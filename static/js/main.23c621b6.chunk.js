(this.webpackJsonpvisualizer=this.webpackJsonpvisualizer||[]).push([[0],{108:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),o=r(23),c=r.n(o),i=r(13),u=r(14),s=r(17),l=r(15),f=r(18),y=r(16),m=r(44),p=r.n(m),E=(r(70),r(24)),h=r.n(E),d={RUN_GAME:"RUN_GAME",STOP_GAME:"STOP_GAME",CLEAR_GAME:"CLEAR_GAME",DRAG_TARGET:"DRAG_TARGET",ADD_OBSTACLE:"ADD_OBSTACLE",TOGGLE_ADD_OBSTACLE:"TOGGLE_ADD_OBSTACLE",CLEAR_OBSTACLES:"CLEAR_OBSTACLES",SELECT_SEARCH_ALGORITHM:"SELECT_SEARCH_ALGORITHM",SELECT_MAZE_ALGORITHM:"SELECT_MAZE_ALGORITHM",GENERATE_MAZE:"GENERATE_MAZE"},A=function(){return{type:E.STOP_TIMER,payload:{name:"timer"}}},O=function(){return{type:d.TOGGLE_ADD_OBSTACLE}},T=function(t){return{type:d.SELECT_SEARCH_ALGORITHM,payload:t}},b={N_HORIZONTAL_CELLS:41,N_VERTICAL_CELLS:25,START_X:4,START_Y:10,END_X:24,END_Y:17,CELL_SIZE:20,WIDTH:820,HEIGHT:500,SEARCH_OPTIONS:["BFS","DFS","A*","Dijkstra"],MAZE_OPTIONS:["Prim"]},g=b.SEARCH_OPTIONS,_=b.MAZE_OPTIONS,x=function(t){function e(){return Object(i.a)(this,e),Object(s.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(u.a)(e,[{key:"_onSelect",value:function(t){this.props.dispatch(T(t.label))}},{key:"render",value:function(){var t=this,e=this.props,r=e.isRunning,n=e.dispatch,o=e.searchDone,c=e.isAddingObstacles;return o&&v(this.props),a.a.createElement("div",{className:"ui secondary pointing menu"},a.a.createElement("a",{href:"/",className:"item"},"Visualizer"),a.a.createElement(p.a,{options:g,value:g[0],onChange:function(e){t.props.dispatch(T(e.label))}}),a.a.createElement(p.a,{options:_,value:_[0],onChange:function(e){var r;t.props.dispatch((r=e.label,{type:d.SELECT_MAZE_ALGORITHM,payload:r}))}}),a.a.createElement("button",{className:"ui primary button",onClick:function(){r?v(t.props):n({type:E.START_TIMER,payload:{name:"timer",action:d.RUN_GAME,interval:100}})}},r?"Stop!":"Run!"),a.a.createElement("button",{className:"ui primary button",onClick:function(){S(t.props)}},"Clear!"),a.a.createElement("button",{className:"ui primary button",onClick:function(){t.props.dispatch(O())}},c?"Drag to add obstacles!":"Add Obstacles!"),a.a.createElement("button",{className:"ui primary button",onClick:function(){t.props.dispatch({type:d.CLEAR_OBSTACLES})}},"Clear Obstacles!"),a.a.createElement("button",{className:"ui primary button",onClick:function(){t.props.dispatch({type:d.GENERATE_MAZE})}},"Generate Maze!"))}}]),e}(a.a.Component),S=function(t){t.dispatch(A()),t.dispatch({type:d.CLEAR_GAME})},v=function(t){t.dispatch(A()),t.dispatch({type:d.STOP_GAME})},R=Object(y.b)((function(t){return{isRunning:t.runButton.isRunning,searchDone:t.runButton.searchDone,isAddingObstacles:t.runButton.isAddingObstacles}}))(x),L=r(19),C=(r(71),r(72),b.CELL_SIZE),N=function(t){function e(){return Object(i.a)(this,e),Object(s.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this.props,e=t.x,r=t.y,n=t.color,o=t.key;return a.a.createElement("div",{className:"Cell",key:o,style:{left:"".concat(e+1,"px"),top:"".concat(r+1,"px"),width:"".concat(C-1,"px"),height:"".concat(C-1,"px"),backgroundColor:"".concat(n)}})}}]),e}(a.a.Component),j=r(45),D=r.n(j),M=b.CELL_SIZE,I=b.WIDTH,G=b.HEIGHT,k=b.START_X,B=b.START_Y,H=function(t){function e(){var t,r;Object(i.a)(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(s.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(a)))).getBoardCoords=function(t){var e=r.boardRef.getBoundingClientRect(),n=document.documentElement,a=e.left+window.pageXOffset-n.clientLeft,o=e.top+window.pageYOffset-n.clientTop;return[t.clientX-a,t.clientY-o]},r.updateTargetOnDrag=function(t){var e=r.props.dragTarget,n=r.getBoardCoords(t),a=Object(L.a)(n,2),o=a[0],c=a[1];e({x:Math.floor(o/M),y:Math.floor(c/M)})},r.addObstacles=function(t){var e=r.props,n=e.addObstacle;if(e.isAddingObstacles){var a=r.getBoardCoords(t),o=Object(L.a)(a,2),c=o[0],i=o[1];n({x:Math.floor(c/M),y:Math.floor(i/M)})}},r}return Object(f.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this,e=this.props,r=e.searchCells,n=e.path,o=e.target,c=e.obstacles,i=e.toggleAddintObstacleState,u=e.isAddingObstacles;return a.a.createElement("div",{onMouseDown:function(e){u&&(t.addObstacles(e),t.boardRef.onmousemove=t.addObstacles)},onMouseUp:function(){u&&(t.boardRef.onmousemove=null,i())},className:"Board",id:"Board",ref:function(e){t.boardRef=e},style:{width:I,height:G,backgroundSize:"".concat(M,"px ").concat(M,"px")}},a.a.createElement(N,{x:k*M,y:B*M,key:"START_CELL",color:"white"}),a.a.createElement("div",{draggable:"true",onDragEnd:this.updateTargetOnDrag},a.a.createElement(N,{x:o.x*M,y:o.y*M,color:"green",key:"END_CELL"})),r.length?r.map((function(t){return t.x!==k||t.y!==B?a.a.createElement(N,{x:t.x*M,y:t.y*M,key:D()(t)}):a.a.createElement("span",null)})):a.a.createElement("span",null),n.length?n.map((function(t){return a.a.createElement(N,{x:t.x*M,y:t.y*M,key:D()(t),color:"green"})})):a.a.createElement("span",null),c.map((function(t,e){return t.map((function(t,r){return t?a.a.createElement(N,{x:r*M,y:e*M,color:"grey"}):a.a.createElement("span",null)}))})))}}]),e}(a.a.Component),P=Object(y.b)((function(t){return{searchCells:t.runButton.cells,path:t.runButton.path,target:t.runButton.target,obstacles:t.runButton.obstacles,isAddingObstacles:t.runButton.isAddingObstacles}}),(function(t){return{dragTarget:function(e){return t(function(t){return{type:d.DRAG_TARGET,payload:t}}(e))},addObstacle:function(e){return t(function(t){return{type:d.ADD_OBSTACLE,payload:t}}(e))},toggleAddintObstacleState:function(){return t(O())}}}))(H),w=function(){return a.a.createElement("div",{className:"ui container"},a.a.createElement("div",null,a.a.createElement(R,null)),a.a.createElement("div",null,a.a.createElement(P,null)))},F=r(7),Z=r(2),U=r(1),Y=b.N_HORIZONTAL_CELLS,X=b.N_VERTICAL_CELLS,V=b.START_X,W=b.START_Y,z=b.END_X,J=b.END_Y,q=function(t){switch(t.searchAlgorithm){case"BFS":return et(t);case"DFS":return tt(t);case"A*":return $(t);case"Dijkstra":return Q(t);default:return[[],!1]}},K=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:z,y:J};return Math.abs(t-r.x)+Math.abs(e-r.y)},Q=function(t){var e=[],r=[{x:0,y:1,from:"UP"},{x:1,y:0,from:"LEFT"},{x:0,y:-1,from:"DOWN"},{x:-1,y:0,from:"RIGHT"}],n=t.cells,a=t.visited,o=t.target,c=t.obstacles,i=t.dijkstra_dist;n.sort((function(t,e){return i[t.y][t.x]>i[e.y][e.x]?1:-1}));for(var u=0;u<n.length;u++){var s=n[u];if(s.x===o.x&&s.y===o.y)return[e,!0];a[s.y][s.x]=!0;for(var l=0;l<r.length;l++){var f=r[l],y=f.x+s.x,m=f.y+s.y,p=f.from;if(y>=0&&m>=0&&m<X&&y<Y&&!a[m][y]&&!c[m][y]){var E=i[s.y][s.x]+1;if(E<i[m][y])return i[m][y]=E,e.push({x:y,y:m,from:p}),y===o.x&&m===o.y?[e,!0]:[e,!1]}}}return[e,!1]},$=function(t){var e=[{x:0,y:1,from:"UP"},{x:1,y:0,from:"LEFT"},{x:0,y:-1,from:"DOWN"},{x:-1,y:0,from:"RIGHT"}],r=t.target,n=t.obstacles,a=t.openSet,o=t.closedSet,c=t.gScore,i=t.fScore,u=t.cameFrom;if(a.length>0){a.sort((function(t,e){return i[t.y][t.x]>i[e.y][e.x]?1:-1}));var s=a[0];if(s.x===r.x&&s.y===r.y)return[a,o,!0,rt(u,s)];a.shift(),o.push(s);for(var l=0;l<e.length;l++){var f=e[l],y=f.x+s.x,m=f.y+s.y,p=f.from;if(y>=0&&m>=0&&m<X&&y<Y){if(void 0!==o.find((function(t){return t.x===y&&t.y===m}))||n[m][y])continue;var E=c[s.y][s.x]+1;if(void 0===a.find((function(t){return t.x===y&&t.y===m}))&&a.push({x:y,y:m,from:p}),E<c[m][y]&&(u[m][y]=p,c[m][y]=E,i[m][y]=c[m][y]+K(y,m,{x:r.x,y:r.y})),y===r.x&&m===r.y)return[a,o,!0,rt(u,r)]}}}return[a,o,!1,[]]},tt=function(t){var e=[],r=[{x:0,y:1,from:"UP"},{x:1,y:0,from:"LEFT"},{x:0,y:-1,from:"DOWN"},{x:-1,y:0,from:"RIGHT"}],n=t.cells,a=t.visited,o=t.target,c=t.obstacles;if(n.length){var i=n[n.length-1];if(i.x===o.x&&i.y===o.y)return[e,!0];for(var u=0;u<r.length;u++){var s=r[u],l=s.x+i.x,f=s.y+i.y,y=s.from;if(l>=0&&f>=0&&f<X&&l<Y&&!a[f][l]&&!c[f][l])return a[f][l]=!0,e.push({x:l,y:f,from:y}),l===o.x&&f===o.y?[e,!0]:[e,!1]}}return[e,!1]},et=function(t){for(var e=[],r=[{x:0,y:1,from:"UP"},{x:0,y:-1,from:"DOWN"},{x:1,y:0,from:"LEFT"},{x:-1,y:0,from:"RIGHT"}],n=t.cells,a=t.visited,o=t.target,c=t.obstacles,i=0;i<n.length;i++){var u=n[i];if(u.x===o.x&&u.y===o.y)return[e,!0];for(var s=0;s<r.length;s++){var l=r[s],f=u.x+l.x,y=u.y+l.y,m=l.from;if(f>=0&&y>=0&&y<X&&f<Y&&!a[y][f]&&!c[y][f]&&(a[y][f]=!0,e.push({x:f,y:y,from:m}),f===o.x&&y===o.y))return[e,!0]}}return[e,!1]},rt=function(t,e){for(var r=[],n={x:e.x,y:e.y};n.x!==V||n.y!==W;)switch(r.push({x:n.x,y:n.y}),t[n.y][n.x]){case"UP":n.y=n.y-1;break;case"DOWN":n.y=n.y+1;break;case"LEFT":n.x=n.x-1;break;case"RIGHT":n.x=n.x+1}return r.push({x:V,y:W,from:"START"}),r},nt=function(t,e){for(var r={x:e.x,y:e.y,from:"END"},n=[];r.x!==V||r.y!==W;){switch(n.push({x:r.x,y:r.y,from:r.from}),r.from){case"UP":r.y=r.y-1;break;case"DOWN":r.y=r.y+1;break;case"LEFT":r.x=r.x-1;break;case"RIGHT":r.x=r.x+1}var a=t.find((function(t){return t.x===r.x&&t.y===r.y}));if(!a)break;r.from=a.from}return n.push({x:V,y:W,from:"START"}),n},at=function(t){var e=X,r=Y,n=Array.from({length:e},(function(){return Array.from({length:r},(function(){return!0}))})),a=[];do{a[0]=Math.floor(Math.random()*e)}while(a[0]%2==0);do{a[1]=Math.floor(Math.random()*r)}while(a[1]%2==0);n[W][V]=!1;for(var o=[a];o.length;){for(var c=Math.floor(Math.random()*o.length),i=o[c],u=ot(n,i[0],i[1]);0==u.length&&(o.splice(c,1),0!=o.length);)i=o[c=Math.floor(Math.random()*o.length)],u=ot(n,i[0],i[1]);if(0==o.length)break;var s=u[Math.floor(Math.random()*u.length)];o.push(s),1==u.length&&o.splice(c,1),n[s[0]][s[1]]=!1,n[(s[0]+i[0])/2][(s[1]+i[1])/2]=!1}return n[t.target.y][t.target.x]=!1,n},ot=function(t,e,r){for(var n=[],a=0;a<4;a++){var o=[e,r];o[a%2]+=2*Math.floor(a/2)||-2,o[0]<t.length&&o[1]<t[0].length&&o[0]>=0&&o[1]>=0&&1==t[o[0]][o[1]]&&n.push(o)}return n},ct=b.N_HORIZONTAL_CELLS,it=b.N_VERTICAL_CELLS,ut=b.START_X,st=b.START_Y,lt=b.END_X,ft=b.END_Y,yt=Array.from({length:it},(function(){return Array.from({length:ct},(function(){return!1}))})),mt=[],pt=Array.from({length:it},(function(){return Array.from({length:ct},(function(){return!1}))}));Array.from({length:it},(function(){return Array.from({length:ct},(function(){return Number.POSITIVE_INFINITY}))}))[st][ut]=0;var Et=Array.from({length:it},(function(){return Array.from({length:ct},(function(){return Number.POSITIVE_INFINITY}))}));Et[st][ut]=K(ut,st);var ht=Array.from({length:it},(function(){return Array.from({length:ct},(function(){return Number.POSITIVE_INFINITY}))}));ht[st][ut]=0;var dt=Array.from({length:it},(function(){return Array.from({length:ct},(function(){return"INIT"}))}));dt[st][ut]="START",dt[ft][lt]="END";var At={target:{x:lt,y:ft},isRunning:!1,searchDone:!1,foundTarget:!1,searchAlgorithm:"BFS",mazeAlgorithm:"Prim",cells:[{x:ut,y:st,from:"START"}],fScore:Et.map((function(t){return Object(U.a)(t)})),gScore:Et.map((function(t){return Object(U.a)(t)})),openSet:[{x:ut,y:st,from:"START"}],closedSet:[],cameFrom:dt.map((function(t){return Object(U.a)(t)})),dijkstra_dist:ht.map((function(t){return Object(U.a)(t)})),path:mt.map((function(t){return t})),isAddingObstacles:!1,obstacles:pt.map((function(t){return Object(U.a)(t)})),visited:yt.map((function(t){return Object(U.a)(t)})),visited_open:yt.map((function(t){return Object(U.a)(t)}))},Ot=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d.RUN_GAME:var r=[],n=[],a=!1,o=[],c=[],i=[],u=q(t);if(u.length>2){var s=Object(L.a)(u,4);r=s[0],n=s[1],a=s[2],i=s[3],c=r.concat(n),o=r.concat(n)}else{var l=Object(L.a)(u,2);o=l[0],a=l[1],c=t.cells.concat(o)}var f=t.target,y=Object(Z.a)({},t,{isRunning:!0,searchDone:!1,foundTarget:!1,isAddingObstacles:!1,searchAlgorithm:t.searchAlgorithm,openSet:r,closedSet:n,path:t.path,cells:c,visited:t.visited.map((function(t){return Object(U.a)(t)}))});if((0===o.length||a)&&(y.searchDone=!0,a)){y.foundTarget=!0;var m=nt(c,f);y.path=t.path.concat(m),u.length>2&&(y.path=i)}return y;case d.STOP_GAME:return Object(Z.a)({},t,{isRunning:!1});case d.CLEAR_GAME:return Object(Z.a)({},t,{isRunning:!1,searchDone:!1,foundTarget:!1,searchAlgorithm:"BFS",cells:[{x:ut,y:st,from:"START"}],fScore:Et.map((function(t){return Object(U.a)(t)})),gScore:Et.map((function(t){return Object(U.a)(t)})),openSet:[{x:ut,y:st,from:"START"}],closedSet:[],cameFrom:dt.map((function(t){return Object(U.a)(t)})),dijkstra_dist:ht.map((function(t){return Object(U.a)(t)})),path:mt.map((function(t){return t})),isAddingObstacles:!1,obstacles:pt.map((function(t){return Object(U.a)(t)})),visited:yt.map((function(t){return Object(U.a)(t)})),visited_open:yt.map((function(t){return Object(U.a)(t)}))});case d.DRAG_TARGET:var p=e.payload.x,E=e.payload.y;return p<0&&(p=0),p>=ct&&(p=ct-1),E<0&&(E=0),E>=it&&(E=it-1),Object(Z.a)({},t,{target:{x:p,y:E}});case d.ADD_OBSTACLE:p=e.payload.x,E=e.payload.y;if(p>=0&&p<ct&&E>=0&&E<it){var h=t.obstacles[E][p];return h?t:(t.obstacles[E][p]=!0,Object(Z.a)({},t,{obstacles:t.obstacles.map((function(t){return Object(U.a)(t)}))}))}case d.TOGGLE_ADD_OBSTACLE:return Object(Z.a)({},t,{isAddingObstacles:!t.isAddingObstacles});case d.CLEAR_OBSTACLES:return Object(Z.a)({},t,{obstacles:pt.map((function(t){return Object(U.a)(t)}))});case d.SELECT_SEARCH_ALGORITHM:return Object(Z.a)({},t,{searchAlgorithm:e.payload});case d.SELECT_MAZE_ALGORITHM:return Object(Z.a)({},t,{mazeAlgorithm:e.payload});case d.GENERATE_MAZE:return Object(Z.a)({},t,{obstacles:at(t)});default:return t}},Tt=Object(F.c)({runButton:Ot}),bt=(r(107),[h.a]);var gt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||F.d,_t=Object(F.e)(Tt,gt(F.a.apply(void 0,bt)));c.a.render(a.a.createElement(y.a,{store:_t},a.a.createElement(w,null)),document.querySelector("#root"))},60:function(t,e,r){t.exports=r(108)},71:function(t,e,r){},72:function(t,e,r){}},[[60,1,2]]]);
//# sourceMappingURL=main.23c621b6.chunk.js.map